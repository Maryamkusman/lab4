# CSE15L Lab Report 4

## links 

 The link of MarkdownParse Repos
 
[mine](https://github.com/Maryamkusman/markdown-parse) 

[reviewed in Wk7](https://github.com/zfxd/markdown-parse)

## Snippet 1:
```
`[a link`](url.com)

[another link](`google.com)`

[`cod[e`](google.com)

[`code]`](ucsd.edu)
```
output generated by the CommonMark demo site:

![Image](Screen%20Shot%202022-02-26%20at%205.10.42%20PM.png)

Becuase the backtick in front of the first link violates the link syntax, every link except the first is a valid link, so we should expect: **[`google.com, google.com, ucsd.edu]**

Turing the snippet into a test case, and saved as `Snippet1.md`
```
 @Test
    public void testSnippet1() throws IOException{
        Path fileName = Path.of("Snippet 1.md");
	    String contents = Files.readString(fileName);
        List<String> expected = List.of("`google.com", "google.com", "ucsd.edu");
        assertEquals(expected, MarkdownParse.getLinks(contents));
    }
```
My implementation of `MarkdownParse.java` fails the test, picking up every link as a valid link:
```
Time: 0.023
There were 3 failures:
1) testSnippet1(MarkdownParseTest)
java.lang.AssertionError: expected:<[`google.com, google.com, ucsd.edu]> but was:<[url.com, `google.com, google.com]>
        at org.junit.Assert.fail(Assert.java:89)
        at org.junit.Assert.failNotEquals(Assert.java:835)
        at org.junit.Assert.assertEquals(Assert.java:120)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at MarkdownParseTest.testSnippet1(MarkdownParseTest.java:40)
```
Implementation of `MarkdwonParse.java` from other hroup also fails the test:
```
Time: 0.021
There were 3 failures:
1) testSnippet1(MarkdownParseTest)
java.lang.AssertionError: expected:<[`google.com, google.com, ucsd.edu]> but was:<[url.com, `google.com, google.com, ucsd.edu]>
        at org.junit.Assert.fail(Assert.java:89)
        at org.junit.Assert.failNotEquals(Assert.java:835)
        at org.junit.Assert.assertEquals(Assert.java:120)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at MarkdownParseTest.testSnippet1(MarkdownParseTest.java:18)
```
**Do you think there is a small (<10 lines) code change that will make your program work for snippet 2 and all related cases that nest parentheses, brackets, and escaped brackets? If yes, describe the code change. If not, describe why it would be a more involved change.**

Yes. the backticks need to come together in the outermost bracket.What i did was set a variable as the value of number of backticks among the content inside the outtermost bracket by setting a forloop to compare each character in the outtermost bracket with ```, if it is equal, increments the value. 


## Snippet 2:
```
[a [nested link](a.com)](b.com)

[a nested parenthesized url](a.com(()))

[some escaped \[ brackets \]](example.com)
```
output generated by the CommonMark demo site:

![Image](Screen%20Shot%202022-02-26%20at%205.12.38%20PM.png)

Becuase content inside the first bracket follows the syntax of link, the first link is fine.
Second link works because cotent in both beracket and parenthesis is complete by following the syntax.
COntetn in first set of bracket and praenthsis follows the syntax of valid link, so the third link works. Thus, we should expect: **[a.com, a.com(()), example.com]**

Turing the snippet into a test case, and saved as `Snippet2.md`
```
@Test
    public void testSnippet2() throws IOException {
        Path fileName = Path.of("Snippet2.md");
        String contents = Files.readString(fileName);
        List<String> expected = List.of("a.com", "a.com(())", "example.com");
        assertEquals(expected, MarkdownParse.getLinks(contents));
    }
```
My implementation of `MarkdownParse.java` fails the test, picking up every link as a valid link:
```
2) testSnippet2(MarkdownParseTest)
java.lang.AssertionError: expected:<[a.com, a.com(()), example.com]> but was:<[a.com((]>
        at org.junit.Assert.fail(Assert.java:89)
        at org.junit.Assert.failNotEquals(Assert.java:835)
        at org.junit.Assert.assertEquals(Assert.java:120)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at MarkdownParseTest.testSnippet2(MarkdownParseTest.java:48)

```

Implementation of `MarkdwonParse.java` from other hroup also fails the test:
```
2) testSnippet2(MarkdownParseTest)
java.lang.AssertionError: expected:<[a.com, a.com(()), example.com]> but was:<[a.com, a.com((, example.com]>
        at org.junit.Assert.fail(Assert.java:89)
        at org.junit.Assert.failNotEquals(Assert.java:835)
        at org.junit.Assert.assertEquals(Assert.java:120)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at MarkdownParseTest.testSnippet2(MarkdownParseTest.java:25)
```

**Do you think there is a small (<10 lines) code change that will make your program work for snippet 2 and all related cases that nest parentheses, brackets, and escaped brackets? If yes, describe the code change. If not, describe why it would be a more involved change.**
To do so, We have to check if there are nested brackets and nested parenthesis in the link area. To deal with nested brackets, the content insde the parenthesis in outtermost bracktes get pciked. For nested parenthesis, the content inside the outermost parenthesis gets picked. The algorhthm to achieve this process is quite complicated,might requires multple if else statements, thus required code more than ten lines.

## Snippet 3:

```
[this title text is really long and takes up more than 
one line

and has some line breaks](
    https://www.twitter.com
)

[this title text is really long and takes up more than 
one line](
    https://ucsd-cse15l-w22.github.io/
)


[this link doesn't have a closing parenthesis](github.com

And there's still some more text after that.

[this link doesn't have a closing parenthesis for a while](https://cse.ucsd.edu/



)

And then there's more text
```
output generated by the CommonMark demo site:

![Image](Screen%20Shot%202022-02-26%20at%205.13.15%20PM.png)
Becasue there can not be an line in [] and (), only the second link is valid, so we should expect: **[https://ucsd-cse15l-w22.github.io/]**

Turing the snippet into a test case, and saved as `Snippet3.md`
```
@Test
    public void testSnippet3() throws IOException {
        Path fileName = Path.of("Snippet3.md");
        String contents = Files.readString(fileName);
        List<String> expected = List.of("https://ucsd-cse15l-w22.github.io/");
        assertEquals(expected, MarkdownParse.getLinks(contents));
    }
```
My implementation of `MarkdownParse.java` fails the test, picking up every link as a valid link:
```
3) testSnippet3(MarkdownParseTest)
java.lang.AssertionError: expected:<[https://ucsd-cse15l-w22.github.io/]> but was:<[
    https://ucsd-cse15l-w22.github.io/
, github.com

And there's still some more text after that.

[this link doesn't have a closing parenthesis for a while](https://cse.ucsd.edu/



]>
        at org.junit.Assert.fail(Assert.java:89)
        at org.junit.Assert.failNotEquals(Assert.java:835)
        at org.junit.Assert.assertEquals(Assert.java:120)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at MarkdownParseTest.testSnippet3(MarkdownParseTest.java:56)

FAILURES!!!
Tests run: 7,  Failures: 3
```

Implementation of `MarkdwonParse.java` from other hroup also fails the test:
```
3) testSnippet3(MarkdownParseTest)
java.lang.AssertionError: expected:<[https://ucsd-cse15l-w22.github.io/]> but was:<[
    https://www.twitter.com
, 
    https://ucsd-cse15l-w22.github.io/
, github.com

And there's still some more text after that.

[this link doesn't have a closing parenthesis for a while](https://cse.ucsd.edu/



]>
        at org.junit.Assert.fail(Assert.java:89)
        at org.junit.Assert.failNotEquals(Assert.java:835)
        at org.junit.Assert.assertEquals(Assert.java:120)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at MarkdownParseTest.testSnippet3(MarkdownParseTest.java:32)

FAILURES!!!
Tests run: 3,  Failures: 3
```
**Do you think there is a small (<10 lines) code change that will make your program work for snippet 2 and all related cases that nest parentheses, brackets, and escaped brackets? If yes, describe the code change. If not, describe why it would be a more involved change.**
No. Since links turn invalid when one or more empty lines are entered in a complete parenthesis or brackets, or the content inside a parentheiss are broken into more than one line, or the closing braket and open parenthesis are seperated by `\n`. The program has to check all the conditions and picks everything inside the complete bracket, which would probably take more than 10 lines of code.
